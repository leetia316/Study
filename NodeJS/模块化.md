# Node 引入模块过程

## 调用 require 方法引入模块

>调用的是模块原型上的方法, 当前文件在解析过程中已经成了模块对象

````js
// 模块类
function Module() { }

Module.prototype.require = function(id) {
  // 返回模块加载内容
  return Module._load(id, this, false)
}

// 实际上是 mod.require() , mod是当前文件模块, 此处模拟实现
let r = Module.prototype.require.call(this, './test.js')
````

## 调用 Module._load(request, parent, isMain) 方法加载模块

````js
Module._load = function(request, parent, isMain) {
  // 解析绝对路径
  const fileName = Module._resolveFilename(request, parent, isMain)
  // return module.exports
}
````